language: java
jdk:
  - openjdk11

git:
  depth: false

addons:
  sonarcloud:
    organization: "kiwiproject"
    token:
      secure: "aAsmZVPOm+JSqp5Fx2TzY+GMema6tR5pKr76wbU1ptA20aQoEljg2fUnn9ZE3xX1DUlxu1MUI2H7CqxO61tBZMPSFYT4BHC/jrUuiFaLPsr6Z528qwvueraOkOHxFOg0bCiuY1Xh4dFP+EPCY9rYJK1RoX334Fb4cM3CxwS05vkDVCiEK6F4EduWGMhtxOP61Ylfd4kd3AIC6n/I4TmvXqNr8IPvOSC5fsMAlONqy8LbCnO6uafQDCelJNgfBt2gr0KzlQq0eETTbL4RQjl00sRpt/8hR3nde9VIfjBFmTKMb1CN2MLSZ2lfLfotNQl5XO3mqZtZTo+09n8J/unXCkcYAk862/MOzWeS0xThWTahe0I4bdoQH6+9G+Cc9CvXreNdIgltNtUDZYV/s3FUFyv2nt1afbkyQ6I72fGlK93UYTYoqSFlEP5H6Pfznk4/bsXvxxVAZfxTGAgOdTzHR5Bsk6SIHKr1wobOXwaapYMAhsvUzS1RG8/AczXEFFmF7vzXqU+RduhH3Q6etKui9Z/cKWzHSX2vx4RofLUMJbz4T4wyEmVtk0svAw+hNrCfBu+0nTw8J2FAlwAyYD7G0E9Pfz4zXv5cUlB3jrMIyWaw0KjP1xC8w9TRBIJna0mHm8sfZdZxeiqKc8UF8aOViMSe1mBGb7QsyOa3fzf8nCU="

script:
  - mvn -Dsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml clean org.jacoco:jacoco-maven-plugin:prepare-agent
    package org.jacoco:jacoco-maven-plugin:report sonar:sonar -Dsonar.projectKey=kiwiproject_dropwizard-curator
